version: '3.8'
networks:
  neo4j:

services:
  app:

    networks:
      - neo4j
    build:
      context: ..
      dockerfile: .devcontainer/Dockerfile
    
    volumes:
      - ..:/workspace:cached

    command: sleep infinity

  neo4j:
    image: neo4j:4.4.18@sha256:f4cedc2ec96c92efaf9c20724077b3c3f4c90a1c7f7b5c0859e2dc9e6b6a339f

    networks:
      - neo4j
    environment: 
      NEO4J_ACCEPT_LICENSE_AGREEMENT: yes
      NEO4J_AUTH: neo4j/localpassword
    ports:
      - 7473:7473
      - 7474:7474
      - 7687:7687
